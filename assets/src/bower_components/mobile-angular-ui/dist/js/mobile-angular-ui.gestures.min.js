!function(){"use strict";angular.module("mobile-angular-ui.gestures.drag",["mobile-angular-ui.gestures.swipe","mobile-angular-ui.gestures.transform"]).provider("$drag",function(){this.$get=["$swipe","$document","Transform",function(a,b,c){var d=document.createElement("style");d.appendChild(document.createTextNode("")),document.head.appendChild(d);var e=d.sheet;return e.insertRule("html .ui-drag-move{z-index: 99999 !important;}",0),e.insertRule("html .ui-drag-move{-webkit-transition: none !important;-moz-transition: none !important;-o-transition: none !important;-ms-transition: none !important;transition: none !important;}",0),e.insertRule("html .ui-drag-move, html .ui-drag-move *{-webkit-touch-callout: none !important;-webkit-user-select: none !important;-khtml-user-select: none !important;-moz-user-select: none !important;-ms-user-select: none !important;user-select: none !important;}",0),{Transform:c,bind:function(d,e){var f={constraint:{}};e=angular.extend({},f,e||{});var g,h,i,j,k,l,m=angular.element(d)[0],n=!1,o=0,p=0,q=c.fromElement(m),r=void 0!==e.constraint.minX?e.constraint.minX:Number.NEGATIVE_INFINITY,s=void 0!==e.constraint.maxX?e.constraint.maxX:Number.POSITIVE_INFINITY,t=void 0!==e.constraint.minY?e.constraint.minY:Number.NEGATIVE_INFINITY,u=void 0!==e.constraint.maxY?e.constraint.maxY:Number.POSITIVE_INFINITY,v=["click","tap","mouseup","touchend"],w=function(a){a.stopPropagation()},x=function(){d.triggerHandler("touchcancel")},y=function(){d.triggerHandler("touchcancel"),o=0,p=0,q.set(m)},z={move:function(a,b){if(b.stopPropagation(),b.preventDefault(),d[0].addEventListener)for(var f=0;f<v.length;f++)d[0].addEventListener(v[f],w,!0);n||(i=c.fromElement(m),j=g=a.x,k=h=a.y,d.addClass("ui-drag-move"),e.start&&e.start(m.getBoundingClientRect(),x,y,a),n=!0);var q,z,A,B,C,D=(m.getBoundingClientRect(),angular.isFunction(s)?s():s),E=angular.isFunction(u)?u():u,F=angular.isFunction(r)?r():r,G=angular.isFunction(t)?t():t;A=Math.max(Math.min(D-o,a.x-g),F-o),B=Math.max(Math.min(E-p,a.y-h),G-p),q=A-(j-g),z=B-(k-h),l=c.fromElement(m),e.transform?(C=e.transform(l,q,z,a.x,a.y,g,h),l=C||l):l.translate(q,z),e.adaptTransform&&(C=e.adaptTransform(l,q,z,a.x,a.y,g,h),l=C||l),j=A+g,k=B+h,l.set(m),e.move&&e.move(m.getBoundingClientRect(),x,y,a)},end:function(a){if(n=!1,d[0].removeEventListener)for(var b=0;b<v.length;b++)d[0].removeEventListener(v[b],w);var c=o,f=p,l=function(){o=c,p=f,i.set(m)};o=o+j-g,p=p+k-h,e.end&&e.end(m.getBoundingClientRect(),l,y,a),d.removeClass("ui-drag-move")},cancel:function(){if(d[0].removeEventListener)for(var a=0;a<v.length;a++)d[0].removeEventListener(v[a],w);n&&(i.set(m),e.cancel&&e.cancel(m.getBoundingClientRect(),y),n=!1,d.removeClass("ui-drag-move"))}};d.on("$destroy",function(){b.unbind("mouseout",x),z=e=m=n=o=p=g=h=i=q=j=k=l=r=s=t=u=null});var A=a.bind(d,z);return b.on("mouseout",x),A}}}]})}(),function(){"use strict";var a=angular.module("mobile-angular-ui.gestures.swipe",[]);a.factory("$swipe",[function(){function a(a){var b=a.touches&&a.touches.length?a.touches:[a],c=a.changedTouches&&a.changedTouches[0]||a.originalEvent&&a.originalEvent.changedTouches&&a.originalEvent.changedTouches[0]||b[0].originalEvent||b[0];return{x:c.clientX,y:c.clientY}}function b(a,b){var c=[];return angular.forEach(a,function(a){var e=d[a][b];e&&c.push(e)}),c.join(" ")}var c=10,d={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}};return{bind:function(d,e,f){var g,h,i,j,k=!1;f=f||["mouse","touch"];var l=b(f,"cancel"),m=b(f,"start"),n=b(f,"end"),o=b(f,"move"),p=function(b){i=a(b),k=!0,g=0,h=0,j=i,e.start&&e.start(i,b)},q=function(b){if(k&&i){var d=a(b);if(g+=Math.abs(d.x-j.x),h+=Math.abs(d.y-j.y),j=d,!(c>g&&c>h))return h>g?(k=!1,void(e.cancel&&e.cancel(b))):(b.preventDefault(),void(e.move&&e.move(d,b)))}},r=function(a){k=!1,e.cancel&&e.cancel(a)},s=function(b){k&&(k=!1,e.end&&e.end(a(b),b))};return d.on(m,p),l&&d.on(l,r),d.on(o,q),d.on(n,s),function(){d.off(m,p),l&&d.off(l,r),d.off(o,q),d.off(n,s),d=m=p=o=q=n=s=l=r=null}}}}]);var b=function(b,c,d){a.directive(b,["$parse","$swipe",function(a,e){var f=75,g=.3,h=30;return function(i,j,k){function l(a){if(!m)return!1;var b=Math.abs(a.y-m.y),d=(a.x-m.x)*c;return n&&f>b&&d>0&&d>h&&g>b/d}var m,n,o=a(k[b]),p=["touch"];angular.isDefined(k.ngSwipeDisableMouse)||p.push("mouse"),e.bind(j,{start:function(a){m=a,n=!0},cancel:function(){n=!1},end:function(a,b){b.stopPropagation(),l(a)&&i.$apply(function(){j.triggerHandler(d),o(i,{$event:b})})}},p)}}])};b("ngSwipeLeft",-1,"swipeleft"),b("ngSwipeRight",1,"swiperight")}(),function(){"use strict";angular.module("mobile-angular-ui.gestures.transform",[]).factory("Transform",["$window",function(a){function b(a){return a.length}function c(a){return a[0]?a[0].length:0}function d(a,d){var e=c(a),f=c(d),g=b(a),h=b(d);if(e!=h)throw new Error("error: incompatible sizes");for(var i=[],j=0;g>j;j++){i[j]=[];for(var k=0;f>k;k++){for(var l=0,m=0;e>m;m++)l+=a[j][m]*d[m][k];i[j][k]=l}}return i}function e(a){this.mtx=a||[[1,0,0],[0,1,0],[0,0,1]]}for(var f,g,h,i=["","webkit","Moz","O","ms"],j=a.document.createElement("div"),k=0;k<i.length;k++){var l=i[k];if(l+"Perspective"in j.style){f=""===l?"":"-"+l.toLowerCase()+"-",h=l+(""===l?"transform":"Transform"),g=f+"transform";break}}return j=null,e.getElementTransformProperty=function(b){b=b.length?b[0]:b;var c=a.getComputedStyle(b,null).getPropertyValue(g);return c},e.setElementTransformProperty=function(a,b){a=a.length?a[0]:a,a.style[h]=b},e.fromElement=function(a){a=a.length?a[0]:a;var b=e.getElementTransformProperty(a);if(!b||"none"===b)return new e;if(b.match("matrix3d"))throw new Error("Handling 3d transform is not supported yet");var c=b.split("(")[1].split(")")[0].split(",").map(Number),d=[[c[0],c[2],c[4]],[c[1],c[3],c[5]],[0,0,1]];return new e(d)},e.prototype.apply=function(a){a=a.length?a[0]:a;var b=e.fromElement(a).merge(this).mtx;return a.style[h]="matrix("+[b[0][0],b[1][0],b[0][1],b[1][1],b[0][2],b[1][2]].join(",")+")",this},e.prototype.set=function(a){a=a.length?a[0]:a;var b=this.mtx;return a.style[h]="matrix("+[b[0][0],b[1][0],b[0][1],b[1][1],b[0][2],b[1][2]].join(",")+")",this},e.prototype.rotate=function(a){a*=Math.PI/180;var b=[[Math.cos(a),-Math.sin(a),0],[Math.sin(a),Math.cos(a),0],[0,0,1]];return this.mtx=d(b,this.mtx),this},e.prototype.translate=function(a,b){b=null===b||void 0===b?a:b;var c=[[1,0,a],[0,1,b],[0,0,1]];return this.mtx=d(c,this.mtx),this},e.prototype.scale=function(a){var b=[[a,0,0],[0,a,0],[0,0,1]];return this.mtx=d(b,this.mtx),this},e.prototype.merge=function(a){return this.mtx=d(this.mtx,a.mtx),this},e.prototype.getRotation=function(){var a=this.mtx;return Math.round(Math.atan2(a[1][0],a[0][0])*(180/Math.PI))},e.prototype.getTranslation=function(){var a=this.mtx;return{x:a[0][2],y:a[1][2]}},e.prototype.getScale=function(){var a=this.mtx,b=a[0][0],c=a[1][0],d=10;return Math.round(Math.sqrt(b*b+c*c)*d)/d},e.prototype.matrixToString=function(){for(var a=this.mtx,b="",c=0;c<a.length;c++){for(var d=0;d<a[c].length;d++){var e=""+a[c][d];b+=e;for(var f=0;f<5-e.length;f++)b+=" "}b+="\n"}return b},e}])}(),function(){"use strict";angular.module("mobile-angular-ui.gestures",["mobile-angular-ui.gestures.drag","mobile-angular-ui.gestures.swipe","mobile-angular-ui.gestures.transform"])}();